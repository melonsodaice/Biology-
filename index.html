<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biology Mastery Ritual üå≥</title>
    <style>
        :root {
            --apple-green: #88D66C;
            --lemon-yellow: #F4E06D;
            --light-bg: #FCFCFA;
            --dark-green: #435334;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--light-bg);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header h1 {
            color: var(--dark-green);
            border-bottom: 4px solid var(--lemon-yellow);
            padding-bottom: 5px;
        }

        .sync-bar {
            background: #fff;
            padding: 10px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-size: 14px;
        }

        .sync-bar button {
            background: white;
            border: 1px solid var(--apple-green);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 5px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1100px;
        }

        th {
            padding: 15px 5px;
            font-size: 13px;
            color: #fff;
        }

        /* Ê¨Ñ‰ΩçÈ°èËâ≤Ë®≠ÂÆö */
        .th-ch { background-color: #999; width: 40px; }
        .th-title { background-color: var(--apple-green); width: 200px; }
        .th-study { background-color: var(--lemon-yellow); color: var(--dark-green); }
        .th-rev { background-color: var(--apple-green); }
        .th-sum { background-color: #AED67A; } /* Á®çÂæÆÊ∑±‰∏ÄÈªûÈªûÁöÑÁ∂†ÂçÄÂàÜ Summary */

        td {
            padding: 12px 5px;
            border-bottom: 1px solid #eee;
            text-align: center;
        }

        .ch-input {
            width: 90%;
            border: none;
            border-bottom: 1px dashed var(--apple-green);
            background: transparent;
            padding: 5px;
            text-align: center;
        }

        .date-input {
            display: block;
            margin: 4px auto 0;
            font-size: 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
            width: 85px;
        }

        input[type="checkbox"] {
            transform: scale(1.3);
            cursor: pointer;
            accent-color: var(--dark-green);
        }

        tr:hover { background-color: #F7FAF5; }
    </style>
</head>
<body>

    <div class="header">
        <h1>Biology Mastery Ritual üå≥</h1>
    </div>

    <div class="sync-bar">
        ‚òÅÔ∏è <strong>Sync Tool:</strong> 
        <button onclick="exportData()">Copy Backup Code</button>
        <button onclick="importData()">Import Code</button>
        <span style="color:#999; margin-left:10px;">(Use this to move data between devices)</span>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th class="th-ch">#</th>
                    <th class="th-title">Chapter Title</th>
                    <th class="th-study">Study</th>
                    <th class="th-rev">Review 1</th>
                    <th class="th-rev">Review 2</th>
                    <th class="th-sum">Summary I</th>
                    <th class="th-rev">Review 3</th>
                    <th class="th-sum">Summary II</th>
                    <th class="th-rev">Review 4</th>
                </tr>
            </thead>
            <tbody id="ritual-body"></tbody>
        </table>
    </div>

    <script>
        const body = document.getElementById('ritual-body');
        const ids = ['s', 'r1', 'r2', 'sum1', 'r3', 'sum2', 'r4']; // ÊâÄÊúâÁöÑÂãæÈÅ∏Ê¨Ñ‰Ωç

        for (let i = 1; i <= 38; i++) {
            const row = document.createElement('tr');
            let cellsHtml = `
                <td>${i}</td>
                <td><input type="text" class="ch-input" id="t-${i}" placeholder="Topic..."></td>
            `;
            
            ids.forEach(id => {
                cellsHtml += `
                    <td>
                        <input type="checkbox" id="c-${id}-${i}">
                        <input type="date" class="date-input" id="d-${id}-${i}">
                    </td>
                `;
            });
            
            row.innerHTML = cellsHtml;
            body.appendChild(row);
        }

        // Ëá™ÂãïÂ≠òÊ™î
        document.querySelectorAll('input').forEach(el => {
            el.addEventListener('input', () => {
                const val = el.type === 'checkbox' ? el.checked : el.value;
                localStorage.setItem('bio-v3-' + el.id, val);
            });
        });

        // ËºâÂÖ•Â≠òÊ™î
        window.addEventListener('load', () => {
            document.querySelectorAll('input').forEach(el => {
                const saved = localStorage.getItem('bio-v3-' + el.id);
                if (saved !== null) {
                    if (el.type === 'checkbox') el.checked = (saved === 'true');
                    else el.value = saved;
                }
            });
        });

        // ÂåØÂá∫ÂÇô‰ªΩÁ¢º
        function exportData() {
            let data = {};
            for(let i=0; i<localStorage.length; i++){
                let key = localStorage.key(i);
                if(key.startsWith('bio-v3-')) data[key] = localStorage.getItem(key);
            }
            if(Object.keys(data).length === 0) return alert("No data to backup!");
            const code = btoa(unescape(encodeURIComponent(JSON.stringify(data))));
            navigator.clipboard.writeText(code);
            alert("‚úÖ Backup code copied!");
        }

        // ÂåØÂÖ•ÂÇô‰ªΩÁ¢º
        function importData() {
            const code = prompt("Paste your backup code:");
            if (code) {
                try {
                    const data = JSON.parse(decodeURIComponent(escape(atob(code))));
                    Object.keys(data).forEach(key => localStorage.setItem(key, data[key]));
                    location.reload();
                } catch(e) { alert("‚ùå Invalid code!"); }
            }
        }
    </script>
</body>
</html>
